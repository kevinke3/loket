<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loket - Missing Person Identification & Recovery</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-search-heart"></i>
                <span>Loket</span>
            </div>
            <div class="nav-menu" id="navMenu">
                <a href="#home" class="nav-link">Home</a>
                <a href="#browse" class="nav-link">Browse Cases</a>
                <a href="#report" class="nav-link">Report Missing</a>
                <a href="#volunteer" class="nav-link">Volunteer</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>
            <div class="nav-toggle" id="navToggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Bringing Loved Ones Home</h1>
            <p class="hero-subtitle">Loket connects families, authorities, and volunteers to help find missing persons and reunite families.</p>
            <div class="hero-buttons">
                <a href="#report" class="btn btn-primary">Report Missing Person</a>
                <a href="#browse" class="btn btn-secondary">Browse Cases</a>
            </div>
        </div>
        <div class="hero-image">
            <div class="hope-symbol">
                <i class="fas fa-dove"></i>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
        <div class="container">
            <h2>Search Missing Persons</h2>
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search by name or description...">
                    <button id="searchBtn"><i class="fas fa-search"></i></button>
                </div>
                <select id="regionFilter">
                    <option value="">All Regions</option>
                    {% if regions %}
                        {% for region in regions %}
                            <option value="{{ region }}">{{ region }}</option>
                        {% endfor %}
                    {% else %}
                        <option value="Northeast">Northeast</option>
                        <option value="Northwest">Northwest</option>
                        <option value="Southeast">Southeast</option>
                        <option value="Southwest">Southwest</option>
                        <option value="Midwest">Midwest</option>
                    {% endif %}
                </select>
            </div>
            <div id="searchResults" class="search-results"></div>
        </div>
    </section>

    <!-- Recent Cases Section -->
    <section class="recent-cases">
        <div class="container">
            <h2>Recent Missing Persons Cases</h2>
            <div class="cases-grid">
                {% for person in missing_persons %}
                <div class="case-card" data-person-id="{{ person.id }}">
                    <div class="case-image">
                        <img src="{{ person.photo_url }}" alt="{{ person.name }}">
                    </div>
                    <div class="case-info">
                        <h3>{{ person.name }}</h3>
                        <p><strong>Age:</strong> {{ person.age }}</p>
                        <p><strong>Last Seen:</strong> {{ person.last_seen }}</p>
                        <p><strong>Date:</strong> {{ person.last_seen_date }}</p>
                        <button class="btn-case-details" data-person-id="{{ person.id }}">View Details</button>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="view-all-container">
                <a href="#browse" class="btn btn-outline">View All Cases</a>
            </div>
        </div>
    </section>

    <!-- Found Persons Section -->
    <section class="found-persons">
        <div class="container">
            <h2>Recently Found & Reunited</h2>
            <div class="found-grid">
                {% for person in found_persons %}
                <div class="found-card">
                    <div class="found-image">
                        <img src="{{ person.photo_url }}" alt="{{ person.name }}">
                        <div class="found-badge">Reunited</div>
                    </div>
                    <div class="found-info">
                        <h3>{{ person.name }}</h3>
                        <p><strong>Age:</strong> {{ person.age }}</p>
                        <p><strong>Found Date:</strong> {{ person.found_date }}</p>
                        <p><strong>Reunited With:</strong> {{ person.reunited_with }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Report Missing Form Section -->
    <section id="report" class="report-section">
        <div class="container">
            <h2>Report a Missing Person</h2>
            <form id="missingPersonForm" class="report-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="age">Age *</label>
                        <input type="number" id="age" name="age" required>
                    </div>
                    <div class="form-group">
                        <label for="gender">Gender *</label>
                        <select id="gender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="last_seen">Last Seen Location *</label>
                        <input type="text" id="last_seen" name="last_seen" required>
                    </div>
                    <div class="form-group">
                        <label for="last_seen_date">Last Seen Date *</label>
                        <input type="date" id="last_seen_date" name="last_seen_date" required>
                    </div>
                    <div class="form-group">
                        <label for="region">Region *</label>
                        <select id="region" name="region" required>
                            <option value="">Select Region</option>
                            <option value="Northeast">Northeast</option>
                            <option value="Northwest">Northwest</option>
                            <option value="Southeast">Southeast</option>
                            <option value="Southwest">Southwest</option>
                            <option value="Midwest">Midwest</option>
                        </select>
                    </div>
                </div>
                <div class="form-group full-width">
                    <label for="description">Physical Description *</label>
                    <textarea id="description" name="description" rows="4" required placeholder="Height, weight, hair color, eye color, clothing, distinguishing features..."></textarea>
                </div>
                
                <h3>Contact Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="contact_name">Your Name *</label>
                        <input type="text" id="contact_name" name="contact_name" required>
                    </div>
                    <div class="form-group">
                        <label for="contact_phone">Phone Number *</label>
                        <input type="tel" id="contact_phone" name="contact_phone" required>
                    </div>
                    <div class="form-group">
                        <label for="contact_email">Email Address *</label>
                        <input type="email" id="contact_email" name="contact_email" required>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="photo">Photo (Optional)</label>
                    <input type="file" id="photo" name="photo" accept="image/*">
                </div>
                
                <button type="submit" class="btn btn-primary btn-submit">Submit Report</button>
            </form>
        </div>
    </section>

    <!-- Volunteer Section -->
    <section id="volunteer" class="volunteer-section">
        <div class="container">
            <h2>Become a Volunteer</h2>
            <p>Join our community of volunteers helping to reunite families.</p>
            <form id="volunteerForm" class="volunteer-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="volunteer_name">Full Name *</label>
                        <input type="text" id="volunteer_name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteer_email">Email *</label>
                        <input type="email" id="volunteer_email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteer_phone">Phone *</label>
                        <input type="tel" id="volunteer_phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteer_region">Region *</label>
                        <select id="volunteer_region" name="region" required>
                            <option value="">Select Region</option>
                            <option value="Northeast">Northeast</option>
                            <option value="Northwest">Northwest</option>
                            <option value="Southeast">Southeast</option>
                            <option value="Southwest">Southwest</option>
                            <option value="Midwest">Midwest</option>
                        </select>
                    </div>
                </div>
                <div class="form-group full-width">
                    <label for="volunteer_skills">Skills & Availability</label>
                    <textarea id="volunteer_skills" name="skills" rows="3" placeholder="Tell us about your skills, availability, and how you'd like to help..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Sign Up as Volunteer</button>
            </form>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h2>Contact Support</h2>
            <div class="contact-grid">
                <div class="contact-info">
                    <h3>Get in Touch</h3>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>24/7 Hotline: 1-800-LOKET-HELP</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>support@loket.org</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>123 Hope Street, City, State 12345</span>
                    </div>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="contact_name">Your Name</label>
                            <input type="text" id="contact_name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="contact_email">Email</label>
                            <input type="email" id="contact_email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="contact_subject">Subject</label>
                            <input type="text" id="contact_subject" name="subject" required>
                        </div>
                        <div class="form-group">
                            <label for="contact_message">Message</label>
                            <textarea id="contact_message" name="message" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-search-heart"></i>
                    <span>Loket</span>
                </div>
                <div class="footer-links">
                    <a href="#home">Home</a>
                    <a href="#browse">Browse Cases</a>
                    <a href="#report">Report Missing</a>
                    <a href="#volunteer">Volunteer</a>
                    <a href="#contact">Contact</a>
                </div>
                <div class="footer-copyright">
                    <p>&copy; 2024 Loket. Bringing hope to families.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal for Case Details -->
    <div id="caseModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Sighting Report Modal -->
    <div id="sightingModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Report a Sighting</h2>
            <form id="sightingForm">
                <input type="hidden" id="sightingPersonId">
                <div class="form-group">
                    <label for="sighting_location">Where did you see this person? *</label>
                    <input type="text" id="sighting_location" required>
                </div>
                <div class="form-group">
                    <label for="sighting_date">When did you see them? *</label>
                    <input type="datetime-local" id="sighting_date" required>
                </div>
                <div class="form-group">
                    <label for="sighting_details">Additional Details</label>
                    <textarea id="sighting_details" rows="4" placeholder="What were they wearing? Who were they with? Any other important details..."></textarea>
                </div>
                <div class="form-group">
                    <label for="reporter_name">Your Name *</label>
                    <input type="text" id="reporter_name" required>
                </div>
                <div class="form-group">
                    <label for="reporter_contact">Your Contact Information *</label>
                    <input type="text" id="reporter_contact" required placeholder="Phone or email">
                </div>
                <button type="submit" class="btn btn-primary">Submit Sighting Report</button>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>